FROM node:16-alpine

ENV DATABASE_HOST="192.168.0.102"
ENV DATABASE_PORT="5432"
ENV DATABASE_NAME="strapipostgres"
ENV DATABASE_USERNAME="postgres"
ENV DATABASE_PASSWORD="postgres"
ENV APP_KEYS="CNsbNEvTODJjXJFF90a2ag==,Qy0xfoMHrk59GMBdu2rDQQ==,1ir6YLeLP7nQOFUBAd7iWw==,lYN2A7AHPil7Ww4i+nvPjg=="
ENV API_TOKEN_SALT="f3aPBN/5t65JIp2BYkfRDw=="
ENV ADMIN_JWT_SECRET="UzP937vdih/1U4EslKXvNw=="
ENV TRANSFER_TOKEN_SALT="JrUkiw5jFd2y4BrD0684tQ=="
ENV DATABASE_CLIENT="postgres"
ENV DATABASE_SSL=false
ENV JWT_SECRET="7jHrE1qBxJWecPPPfIkAfw=="

WORKDIR /app

COPY package*.json yarn.lock ./

RUN yarn install

COPY . .

EXPOSE 1337

CMD ["yarn", "develop"]
